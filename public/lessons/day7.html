<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ng√†y 7 - JavaScript Arrays (M·∫£ng)</title>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/lesson-style.css">

    <style>
        .array-visual {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .array-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .array-index {
            font-size: 0.8em;
            opacity: 0.8;
            display: block;
            margin-top: 5px;
        }

        .method-demo {
            background: #f9fafb;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .demo-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .demo-controls button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .demo-controls button:hover {
            transform: scale(1.05);
        }

        .demo-controls input {
            padding: 10px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
        }

        #arrayOutput {
            min-height: 60px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px dashed #cbd5e1;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .method-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .method-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .method-card code {
            background: #1f2937;
            color: #e5e7eb;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üìÖ Th√°ng 1 - Ng√†y 7</h1>
            <p>L√†m quen v·ªõi Arrays (M·∫£ng) - Qu·∫£n l√Ω danh s√°ch d·ªØ li·ªáu</p>
        </div>

        <div class="content">
            <a href="../index.html" class="btn"
                style="display: inline-block; text-decoration: none; margin-bottom: 20px;">‚¨ÖÔ∏è Quay l·∫°i L·ªô tr√¨nh</a>

            <h2>1. Array (M·∫£ng) l√† g√¨?</h2>
            <div class="concept-card">
                <p>Array l√† m·ªôt c·∫•u tr√∫c d·ªØ li·ªáu d√πng ƒë·ªÉ <strong>l∆∞u tr·ªØ nhi·ªÅu gi√° tr·ªã</strong> trong m·ªôt bi·∫øn duy nh·∫•t.
                    Thay v√¨ khai b√°o nhi·ªÅu bi·∫øn ri√™ng l·∫ª, b·∫°n c√≥ th·ªÉ nh√≥m ch√∫ng l·∫°i th√†nh m·ªôt m·∫£ng.</p>
            </div>

            <div class="info-box">
                <strong>üéØ T·∫°i sao c·∫ßn d√πng Arrays?</strong><br>
                ‚Ä¢ Qu·∫£n l√Ω danh s√°ch d·ªØ li·ªáu (t√™n h·ªçc sinh, s·∫£n ph·∫©m, ƒëi·ªÉm s·ªë...)<br>
                ‚Ä¢ D·ªÖ d√†ng th√™m, x√≥a, s·ª≠a ph·∫ßn t·ª≠<br>
                ‚Ä¢ C√≥ th·ªÉ l·∫∑p qua t·ª´ng ph·∫ßn t·ª≠ ƒë·ªÉ x·ª≠ l√Ω<br>
                ‚Ä¢ Ti·∫øt ki·ªám code, d·ªÖ b·∫£o tr√¨
            </div>

            <h3>H√¨nh dung Array:</h3>
            <div class="array-visual">
                <div class="array-item">
                    "üçé"
                    <span class="array-index">[0]</span>
                </div>
                <div class="array-item">
                    "üçå"
                    <span class="array-index">[1]</span>
                </div>
                <div class="array-item">
                    "üçá"
                    <span class="array-index">[2]</span>
                </div>
                <div class="array-item">
                    "üçä"
                    <span class="array-index">[3]</span>
                </div>
            </div>

            <div class="warning-box">
                <strong>‚ö†Ô∏è L∆∞u √Ω:</strong> Array trong JavaScript b·∫Øt ƒë·∫ßu t·ª´ index (ch·ªâ s·ªë) <code>0</code>, kh√¥ng ph·∫£i
                <code>1</code>!
            </div>

            <h2>2. C√°ch khai b√°o Array</h2>

            <h3>‚úÖ C√°ch 1: Array Literal (Khuy·∫øn kh√≠ch)</h3>
            <div class="code-block">
                <pre>let fruits = ["T√°o", "Chu·ªëi", "Nho"];
let numbers = [1, 2, 3, 4, 5];
let mixed = ["Text", 100, true]; // C√≥ th·ªÉ ch·ª©a nhi·ªÅu ki·ªÉu d·ªØ li·ªáu</pre>
            </div>

            <h3>‚úÖ C√°ch 2: T·∫°o m·∫£ng r·ªóng r·ªìi th√™m d·∫ßn</h3>
            <div class="code-block">
                <pre>let students = [];
students.push("An");
students.push("B√¨nh");
students.push("Chi");
console.log(students); // ["An", "B√¨nh", "Chi"]</pre>
            </div>

            <h2>3. Truy c·∫≠p ph·∫ßn t·ª≠ trong Array</h2>
            <div class="code-block">
                <pre>let colors = ["ƒê·ªè", "Xanh", "V√†ng", "T√≠m"];

console.log(colors[0]);  // "ƒê·ªè" (ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n)
console.log(colors[2]);  // "V√†ng" (ph·∫ßn t·ª≠ th·ª© 3)
console.log(colors[colors.length - 1]); // "T√≠m" (ph·∫ßn t·ª≠ cu·ªëi c√πng)

// Thay ƒë·ªïi gi√° tr·ªã
colors[1] = "Xanh l√°";
console.log(colors); // ["ƒê·ªè", "Xanh l√°", "V√†ng", "T√≠m"]</pre>
            </div>

            <h2>4. C√°c ph∆∞∆°ng th·ª©c Array quan tr·ªçng</h2>

            <div class="comparison-grid">
                <div class="method-card">
                    <h4>üì• push()</h4>
                    <p>Th√™m ph·∫ßn t·ª≠ v√†o <strong>cu·ªëi</strong> m·∫£ng</p>
                    <div class="code-block">
                        <pre>let arr = [1, 2, 3];
arr.push(4);
// [1, 2, 3, 4]</pre>
                    </div>
                </div>

                <div class="method-card">
                    <h4>üì§ pop()</h4>
                    <p>X√≥a ph·∫ßn t·ª≠ <strong>cu·ªëi c√πng</strong></p>
                    <div class="code-block">
                        <pre>let arr = [1, 2, 3];
arr.pop();
// [1, 2]</pre>
                    </div>
                </div>

                <div class="method-card">
                    <h4>üì• unshift()</h4>
                    <p>Th√™m ph·∫ßn t·ª≠ v√†o <strong>ƒë·∫ßu</strong> m·∫£ng</p>
                    <div class="code-block">
                        <pre>let arr = [2, 3];
arr.unshift(1);
// [1, 2, 3]</pre>
                    </div>
                </div>

                <div class="method-card">
                    <h4>üì§ shift()</h4>
                    <p>X√≥a ph·∫ßn t·ª≠ <strong>ƒë·∫ßu ti√™n</strong></p>
                    <div class="code-block">
                        <pre>let arr = [1, 2, 3];
arr.shift();
// [2, 3]</pre>
                    </div>
                </div>

                <div class="method-card">
                    <h4>üìè length</h4>
                    <p>S·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ trong m·∫£ng</p>
                    <div class="code-block">
                        <pre>let arr = [1, 2, 3];
console.log(arr.length);
// 3</pre>
                    </div>
                </div>

                <div class="method-card">
                    <h4>üîó join()</h4>
                    <p>N·ªëi c√°c ph·∫ßn t·ª≠ th√†nh chu·ªói</p>
                    <div class="code-block">
                        <pre>let arr = ["A", "B", "C"];
console.log(arr.join("-"));
// "A-B-C"</pre>
                    </div>
                </div>
            </div>

            <h2>5. üíª Th·ª≠ nghi·ªám v·ªõi Array</h2>
            <div class="method-demo">
                <h3>üéÆ Qu·∫£n l√Ω danh s√°ch Todos</h3>
                <div class="demo-controls">
                    <input type="text" id="todoInput" placeholder="Nh·∫≠p c√¥ng vi·ªác m·ªõi...">
                    <button onclick="addTodo()">‚ûï Th√™m Todo</button>
                    <button onclick="removeLast()">üóëÔ∏è X√≥a cu·ªëi</button>
                    <button onclick="removeFirst()">üóëÔ∏è X√≥a ƒë·∫ßu</button>
                    <button onclick="clearAll()">üßπ X√≥a h·∫øt</button>
                </div>

                <div id="arrayOutput">
                    <strong>Danh s√°ch todos:</strong> (Ch∆∞a c√≥ todo n√†o)
                </div>

                <div style="margin-top: 15px; padding: 10px; background: white; border-radius: 8px;">
                    <strong>üìä Th·ªëng k√™:</strong>
                    <div id="arrayStats">S·ªë l∆∞·ª£ng: 0</div>
                </div>
            </div>

            <h3>üìñ Xem code c·ªßa demo</h3>
            <div class="code-block">
                <pre>let todos = [];

function addTodo() {
    const input = document.getElementById('todoInput');
    if (input.value.trim()) {
        todos.push(input.value.trim());
        input.value = '';
        updateDisplay();
    }
}

function removeLast() {
    todos.pop();
    updateDisplay();
}

function removeFirst() {
    todos.shift();
    updateDisplay();
}

function clearAll() {
    todos = [];
    updateDisplay();
}

function updateDisplay() {
    const output = document.getElementById('arrayOutput');
    const stats = document.getElementById('arrayStats');
    
    if (todos.length === 0) {
        output.innerHTML = '<strong>Danh s√°ch todos:</strong> (Ch∆∞a c√≥ todo n√†o)';
    } else {
        output.innerHTML = '<strong>Danh s√°ch todos:</strong><br>' + 
            todos.map((todo, i) => `[${i}] ${todo}`).join('<br>');
    }
    
    stats.textContent = `S·ªë l∆∞·ª£ng: ${todos.length}`;
}</pre>
            </div>

            <h2>6. L·∫∑p qua Array v·ªõi forEach()</h2>
            <div class="concept-card">
                <p>Ph∆∞∆°ng th·ª©c <code>forEach()</code> cho ph√©p b·∫°n th·ª±c hi·ªán m·ªôt h√†nh ƒë·ªông v·ªõi <strong>t·ª´ng ph·∫ßn
                        t·ª≠</strong> trong m·∫£ng.</p>
            </div>

            <div class="code-block">
                <pre>let fruits = ["T√°o", "Chu·ªëi", "Nho"];

// C√°ch 1: forEach v·ªõi Arrow Function
fruits.forEach(fruit => {
    console.log("T√¥i th√≠ch " + fruit);
});

// C√°ch 2: forEach v·ªõi function th√¥ng th∆∞·ªùng
fruits.forEach(function(fruit, index) {
    console.log(`${index}: ${fruit}`);
});

// Output:
// 0: T√°o
// 1: Chu·ªëi
// 2: Nho</pre>
            </div>

            <div class="info-box">
                <strong>üí° M·∫πo:</strong> <code>forEach()</code> nh·∫≠n v√†o 3 tham s·ªë:<br>
                ‚Ä¢ <code>item</code> - Gi√° tr·ªã c·ªßa ph·∫ßn t·ª≠ hi·ªán t·∫°i<br>
                ‚Ä¢ <code>index</code> - Ch·ªâ s·ªë c·ªßa ph·∫ßn t·ª≠ (c√≥ th·ªÉ b·ªè qua)<br>
                ‚Ä¢ <code>array</code> - To√†n b·ªô m·∫£ng (c√≥ th·ªÉ b·ªè qua)
            </div>

            <h2>üéØ B√†i t·∫≠p v·ªÅ nh√†</h2>
            <div class="concept-card">
                <h3>T·∫°o "Qu·∫£n l√Ω danh s√°ch h·ªçc sinh"</h3>
                <p>T·∫°o m·ªôt file <code>students.html</code> v·ªõi c√°c ch·ª©c nƒÉng sau:</p>
                <ul>
                    <li>Khai b√°o m·∫£ng <code>students</code> v·ªõi √≠t nh·∫•t 5 t√™n h·ªçc sinh</li>
                    <li>Hi·ªÉn th·ªã t·∫•t c·∫£ h·ªçc sinh ra m√†n h√¨nh (d√πng <code>forEach</code>)</li>
                    <li>T·∫°o n√∫t "Th√™m h·ªçc sinh" ƒë·ªÉ th√™m t√™n m·ªõi v√†o cu·ªëi danh s√°ch</li>
                    <li>T·∫°o n√∫t "X√≥a h·ªçc sinh cu·ªëi" ƒë·ªÉ x√≥a h·ªçc sinh cu·ªëi c√πng</li>
                    <li>Hi·ªÉn th·ªã t·ªïng s·ªë h·ªçc sinh (d√πng <code>length</code>)</li>
                    <li><strong>Bonus:</strong> T√¨m h·ªçc sinh theo t√™n (d√πng <code>indexOf()</code> ho·∫∑c
                        <code>includes()</code>)
                    </li>
                </ul>
            </div>

            <h2>üß† Ki·ªÉm tra ki·∫øn th·ª©c</h2>
            <form id="quizForm" class="quiz-container">
                <div class="question-item">
                    <p class="question-text">C√¢u 1: Index (ch·ªâ s·ªë) c·ªßa ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n trong Array l√† bao nhi√™u?</p>
                    <ul class="options-list">
                        <li><label class="option-label"><input type="radio" name="q1" value="wrong"> 1</label></li>
                        <li><label class="option-label"><input type="radio" name="q1" value="correct"> 0</label></li>
                        <li><label class="option-label"><input type="radio" name="q1" value="wrong"> -1</label></li>
                    </ul>
                </div>

                <div class="question-item">
                    <p class="question-text">C√¢u 2: Ph∆∞∆°ng th·ª©c n√†o d√πng ƒë·ªÉ th√™m ph·∫ßn t·ª≠ v√†o cu·ªëi m·∫£ng?</p>
                    <ul class="options-list">
                        <li><label class="option-label"><input type="radio" name="q2" value="wrong"> add()</label></li>
                        <li><label class="option-label"><input type="radio" name="q2" value="correct"> push()</label>
                        </li>
                        <li><label class="option-label"><input type="radio" name="q2" value="wrong"> append()</label>
                        </li>
                    </ul>
                </div>

                <div class="question-item">
                    <p class="question-text">C√¢u 3: <code>let arr = [1, 2, 3]; arr.pop();</code> - M·∫£ng arr sau khi
                        pop() l√† g√¨?</p>
                    <ul class="options-list">
                        <li><label class="option-label"><input type="radio" name="q3" value="wrong"> [2, 3]</label></li>
                        <li><label class="option-label"><input type="radio" name="q3" value="correct"> [1, 2]</label>
                        </li>
                        <li><label class="option-label"><input type="radio" name="q3" value="wrong"> [1, 2, 3]</label>
                        </li>
                    </ul>
                </div>

                <div class="question-item">
                    <p class="question-text">C√¢u 4: L√†m sao ƒë·ªÉ l·∫•y s·ªë l∆∞·ª£ng ph·∫ßn t·ª≠ trong m·∫£ng?</p>
                    <ul class="options-list">
                        <li><label class="option-label"><input type="radio" name="q4" value="wrong"> arr.size</label>
                        </li>
                        <li><label class="option-label"><input type="radio" name="q4" value="correct">
                                arr.length</label></li>
                        <li><label class="option-label"><input type="radio" name="q4" value="wrong"> arr.count()</label>
                        </li>
                    </ul>
                </div>

                <div class="question-item">
                    <p class="question-text">C√¢u 5: Ph∆∞∆°ng th·ª©c n√†o d√πng ƒë·ªÉ l·∫∑p qua t·ª´ng ph·∫ßn t·ª≠ trong m·∫£ng?</p>
                    <ul class="options-list">
                        <li><label class="option-label"><input type="radio" name="q5" value="wrong"> loop()</label></li>
                        <li><label class="option-label"><input type="radio" name="q5" value="correct"> forEach()</label>
                        </li>
                        <li><label class="option-label"><input type="radio" name="q5" value="wrong"> iterate()</label>
                        </li>
                    </ul>
                </div>

                <button type="button" onclick="checkQuiz()" class="btn">Ki·ªÉm tra ƒë√°p √°n</button>
                <div id="quiz-feedback"></div>
            </form>

            <div class="actions">
                <a href="day6.html" class="btn">‚¨ÖÔ∏è Quay l·∫°i ng√†y 6</a>
                <button id="completeBtn" class="btn" onclick="completeLesson()">‚úÖ Ho√†n th√†nh b√†i h·ªçc</button>
            </div>
            <p style="text-align: center; color: #6b7280; margin-top: 10px; font-size: 0.9em;">
                (H√£y l√†m ƒë√∫ng Quiz ƒë·ªÉ m·ªü kh√≥a n√∫t ho√†n th√†nh)
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/config.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/storage.js"></script>
    <script src="../js/quiz-handler.js"></script>

    <script>
        // Initialize quiz for day 7
        initQuiz('day7');

        // Array demo code
        let todos = [];

        function addTodo() {
            const input = document.getElementById('todoInput');
            const value = input.value.trim();

            if (value) {
                todos.push(value);
                input.value = '';
                updateDisplay();
            } else {
                alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p todo!');
            }
        }

        function removeLast() {
            if (todos.length > 0) {
                const removed = todos.pop();
                updateDisplay();
                console.log('ƒê√£ x√≥a:', removed);
            } else {
                alert('‚ö†Ô∏è Danh s√°ch ƒë√£ tr·ªëng!');
            }
        }

        function removeFirst() {
            if (todos.length > 0) {
                const removed = todos.shift();
                updateDisplay();
                console.log('ƒê√£ x√≥a:', removed);
            } else {
                alert('‚ö†Ô∏è Danh s√°ch ƒë√£ tr·ªëng!');
            }
        }

        function clearAll() {
            if (todos.length > 0) {
                if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a h·∫øt?')) {
                    todos = [];
                    updateDisplay();
                }
            } else {
                alert('‚ö†Ô∏è Danh s√°ch ƒë√£ tr·ªëng!');
            }
        }

        function updateDisplay() {
            const output = document.getElementById('arrayOutput');
            const stats = document.getElementById('arrayStats');

            if (todos.length === 0) {
                output.innerHTML = '<strong>Danh s√°ch todos:</strong> (Ch∆∞a c√≥ todo n√†o)';
                stats.innerHTML = `
            S·ªë l∆∞·ª£ng: <strong>0</strong><br>
            Ph·∫ßn t·ª≠ ƒë·∫ßu: <strong>N/A</strong><br>
            Ph·∫ßn t·ª≠ cu·ªëi: <strong>N/A</strong>
        `;
            } else {
                // Create visual list with better formatting
                const todoList = todos.map((todo, i) =>
                    `<div style="padding: 8px; margin: 5px 0; background: #f3f4f6; border-radius: 5px; border-left: 3px solid #667eea;">
                <strong>[${i}]</strong> ${todo}
            </div>`
                ).join('');

                output.innerHTML = '<strong>Danh s√°ch todos:</strong><br>' + todoList;

                stats.innerHTML = `
            S·ªë l∆∞·ª£ng: <strong>${todos.length}</strong><br>
            Ph·∫ßn t·ª≠ ƒë·∫ßu: <strong>${todos[0]}</strong><br>
            Ph·∫ßn t·ª≠ cu·ªëi: <strong>${todos[todos.length - 1]}</strong>
        `;
            }
        }

        // Allow Enter key to add todo
        const todoInput = document.getElementById('todoInput');
        if (todoInput) {
            todoInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    addTodo();
                }
            });
        }

        // Initialize display on page load
        updateDisplay();
    </script>
</body>

</html>