<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ng√†y 14: JavaScript LocalStorage & SessionStorage</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/lesson-style.css">
    
    <style>
        .storage-visual {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .storage-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .storage-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #667eea;
        }

        .storage-card h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .storage-card ul {
            list-style: none;
            padding: 0;
        }

        .storage-card ul li {
            padding: 8px 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .storage-card ul li:last-child {
            border-bottom: none;
        }

        .demo-storage {
            background: #f9fafb;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .storage-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .storage-input {
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            flex: 1;
            min-width: 200px;
        }

        .storage-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .storage-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .storage-button.danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        .storage-output {
            background: white;
            padding: 20px;
            border-radius: 10px;
            min-height: 100px;
            border: 2px dashed #cbd5e1;
        }

        .storage-item {
            background: #f9fafb;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #10b981;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .storage-item .key {
            font-weight: bold;
            color: #667eea;
        }

        .storage-item .value {
            color: #6b7280;
        }

        .storage-item button {
            background: #ef4444;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
        }

        .browser-storage {
            background: #1f2937;
            color: #10b981;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Consolas', monospace;
            overflow-x: auto;
            margin: 15px 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .feature-box h4 {
            color: #92400e;
            margin-bottom: 10px;
        }

        .feature-box p {
            color: #78350f;
        }

        .todo-demo {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }

        .todo-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .todo-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1em;
        }

        .todo-list {
            list-style: none;
            padding: 0;
        }

        .todo-item {
            background: #f9fafb;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .todo-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
        }

        .todo-actions {
            display: flex;
            gap: 8px;
        }

        .todo-actions button {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        .btn-complete {
            background: #10b981;
            color: white;
        }

        .btn-delete {
            background: #ef4444;
            color: white;
        }

        .storage-size {
            background: #eff6ff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3b82f6;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: slideIn 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìÖ Th√°ng 1 - Ng√†y 14</h1>
            <p>LocalStorage & SessionStorage - L∆∞u tr·ªØ d·ªØ li·ªáu tr√™n tr√¨nh duy·ªát</p>
        </div>

        <div class="content">
            <a href="../index.html" class="btn" style="display: inline-block; text-decoration: none; margin-bottom: 20px;">
                ‚¨ÖÔ∏è Quay l·∫°i L·ªô tr√¨nh
            </a>

            <!-- Section 1: Web Storage l√† g√¨? -->
            <div class="section">
                <div class="section-title">1. Web Storage API l√† g√¨?</div>
                <p>Web Storage API cho ph√©p l∆∞u tr·ªØ d·ªØ li·ªáu tr·ª±c ti·∫øp tr√™n tr√¨nh duy·ªát c·ªßa ng∆∞·ªùi d√πng, kh√¥ng c·∫ßn server. C√≥ 2 lo·∫°i: <strong>localStorage</strong> v√† <strong>sessionStorage</strong>.</p>

                <div class="info-box">
                    <strong>üéØ T·∫°i sao c·∫ßn Web Storage?</strong><br>
                    ‚Ä¢ L∆∞u tr·ªØ settings, preferences c·ªßa user<br>
                    ‚Ä¢ L∆∞u gi·ªè h√†ng shopping cart<br>
                    ‚Ä¢ Cache d·ªØ li·ªáu ƒë·ªÉ tƒÉng t·ªëc ·ª©ng d·ª•ng<br>
                    ‚Ä¢ T·∫°o ·ª©ng d·ª•ng offline-first<br>
                    ‚Ä¢ Kh√¥ng m·∫•t d·ªØ li·ªáu khi reload trang
                </div>

                <div class="storage-visual">
                    <h3>üóÑÔ∏è So s√°nh LocalStorage vs SessionStorage vs Cookies</h3>
                    <div class="storage-comparison" style="margin-top: 20px;">
                        <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px;">
                            <h4 style="color: #fbbf24;">üì¶ LocalStorage</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>‚úÖ L∆∞u vƒ©nh vi·ªÖn (kh√¥ng m·∫•t khi ƒë√≥ng tab)</li>
                                <li>‚úÖ Dung l∆∞·ª£ng: ~5-10MB</li>
                                <li>‚úÖ Ch·ªâ client-side</li>
                                <li>‚ùå Kh√¥ng t·ª± ƒë·ªông g·ª≠i l√™n server</li>
                            </ul>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px;">
                            <h4 style="color: #fbbf24;">‚è±Ô∏è SessionStorage</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>‚ö†Ô∏è M·∫•t khi ƒë√≥ng tab/browser</li>
                                <li>‚úÖ Dung l∆∞·ª£ng: ~5-10MB</li>
                                <li>‚úÖ Ri√™ng bi·ªát m·ªói tab</li>
                                <li>‚úÖ T·ªët cho d·ªØ li·ªáu t·∫°m th·ªùi</li>
                            </ul>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px;">
                            <h4 style="color: #fbbf24;">üç™ Cookies</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>‚ö†Ô∏è Dung l∆∞·ª£ng nh·ªè: ~4KB</li>
                                <li>‚úÖ C√≥ expiration date</li>
                                <li>‚úÖ T·ª± ƒë·ªông g·ª≠i l√™n server</li>
                                <li>‚ùå Ph·ª©c t·∫°p h∆°n</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: LocalStorage Methods -->
            <div class="section">
                <div class="section-title">2. LocalStorage - C√°c ph∆∞∆°ng th·ª©c c∆° b·∫£n</div>
                
                <div class="feature-grid">
                    <div class="feature-box">
                        <h4>üíæ setItem()</h4>
                        <p>L∆∞u d·ªØ li·ªáu</p>
                        <div class="code-block" style="background: #1f2937; color: #10b981; padding: 10px; border-radius: 6px; margin-top: 10px;">
localStorage.setItem('name', 'John');
                        </div>
                    </div>
                    <div class="feature-box">
                        <h4>üìñ getItem()</h4>
                        <p>L·∫•y d·ªØ li·ªáu</p>
                        <div class="code-block" style="background: #1f2937; color: #10b981; padding: 10px; border-radius: 6px; margin-top: 10px;">
const name = localStorage.getItem('name');
                        </div>
                    </div>
                    <div class="feature-box">
                        <h4>üóëÔ∏è removeItem()</h4>
                        <p>X√≥a 1 item</p>
                        <div class="code-block" style="background: #1f2937; color: #10b981; padding: 10px; border-radius: 6px; margin-top: 10px;">
localStorage.removeItem('name');
                        </div>
                    </div>
                    <div class="feature-box">
                        <h4>üßπ clear()</h4>
                        <p>X√≥a t·∫•t c·∫£</p>
                        <div class="code-block" style="background: #1f2937; color: #10b981; padding: 10px; border-radius: 6px; margin-top: 10px;">
localStorage.clear();
                        </div>
                    </div>
                </div>

                <h3 style="margin-top: 30px;">üìù V√≠ d·ª• c∆° b·∫£n</h3>
                <div class="code-block">
// L∆∞u d·ªØ li·ªáu
localStorage.setItem('username', 'john_doe');
localStorage.setItem('theme', 'dark');
localStorage.setItem('fontSize', '16');

// L·∫•y d·ªØ li·ªáu
const username = localStorage.getItem('username');
console.log(username); // "john_doe"

// X√≥a m·ªôt item
localStorage.removeItem('fontSize');

// X√≥a t·∫•t c·∫£
localStorage.clear();
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</strong><br>
                    ‚Ä¢ LocalStorage ch·ªâ l∆∞u ƒë∆∞·ª£c <strong>STRING</strong><br>
                    ‚Ä¢ Mu·ªën l∆∞u object/array ‚Üí d√πng <code>JSON.stringify()</code><br>
                    ‚Ä¢ Khi l·∫•y ra ‚Üí d√πng <code>JSON.parse()</code>
                </div>
            </div>

            <!-- Section 3: L∆∞u Objects & Arrays -->
            <div class="section">
                <div class="section-title">3. L∆∞u Objects & Arrays v√†o LocalStorage</div>
                
                <div class="code-block">
// ‚ùå SAI - Object b·ªã chuy·ªÉn th√†nh "[object Object]"
const user = { name: "John", age: 25 };
localStorage.setItem('user', user); // ‚ùå Sai!

// ‚úÖ ƒê√öNG - D√πng JSON.stringify()
const user = { name: "John", age: 25 };
localStorage.setItem('user', JSON.stringify(user));

// L·∫•y ra v√† parse l·∫°i
const savedUser = localStorage.getItem('user');
const userObj = JSON.parse(savedUser);
console.log(userObj.name); // "John"

// ‚úÖ V√≠ d·ª• v·ªõi Array
const todos = [
    { id: 1, text: "H·ªçc JavaScript", done: false },
    { id: 2, text: "L√†m b√†i t·∫≠p", done: true }
];

localStorage.setItem('todos', JSON.stringify(todos));

// L·∫•y ra
const savedTodos = JSON.parse(localStorage.getItem('todos'));
console.log(savedTodos[0].text); // "H·ªçc JavaScript"
                </div>

                <div class="storage-size">
                    <strong>üìä Ki·ªÉm tra dung l∆∞·ª£ng ƒë√£ d√πng:</strong>
                    <div class="code-block" style="margin-top: 10px;">
function getLocalStorageSize() {
    let total = 0;
    for (let key in localStorage) {
        if (localStorage.hasOwnProperty(key)) {
            total += localStorage[key].length + key.length;
        }
    }
    return (total / 1024).toFixed(2) + ' KB';
}

console.log('LocalStorage size:', getLocalStorageSize());
                    </div>
                </div>
            </div>

            <!-- Section 4: Demo th·ª±c h√†nh -->
            <div class="section">
                <div class="section-title">4. üíª Demo: Todo App v·ªõi LocalStorage</div>
                
                <div class="todo-demo">
                    <h3 style="margin-bottom: 20px;">‚úÖ Todo List (T·ª± ƒë·ªông l∆∞u)</h3>
                    <div class="todo-input-group">
                        <input 
                            type="text" 
                            id="todoInput" 
                            class="todo-input" 
                            placeholder="Nh·∫≠p c√¥ng vi·ªác c·∫ßn l√†m..."
                        >
                        <button onclick="addTodo()" class="storage-button">‚ûï Th√™m</button>
                    </div>
                    <ul id="todoList" class="todo-list"></ul>
                    <div style="margin-top: 20px; text-align: center;">
                        <button onclick="clearAllTodos()" class="storage-button danger">
                            üóëÔ∏è X√≥a t·∫•t c·∫£
                        </button>
                    </div>
                </div>

                <details style="margin-top: 15px; background: #f9fafb; padding: 15px; border-radius: 8px;">
                    <summary style="cursor: pointer; font-weight: bold; color: #667eea;">üìñ Xem code ƒë·∫ßy ƒë·ªß</summary>
                    <div class="code-block" style="margin-top: 10px;">
let todos = [];

// Load todos t&#7915; localStorage khi trang load
function loadTodos() {
    const saved = localStorage.getItem(&#39;todos&#39;);
    todos = saved ? JSON.parse(saved) : [];
    renderTodos();
}

// L&#432;u todos v&#224;o localStorage
function saveTodos() {
    localStorage.setItem(&#39;todos&#39;, JSON.stringify(todos));
}

// Th&#234;m todo m&#7899;i
function addTodo() {
    const input = document.getElementById(&#39;todoInput&#39;);
    const text = input.value.trim();

    if (!text) {
        alert(&#39;Vui l&#242;ng nh&#7853;p n&#7897;i dung!&#39;);
        return;
    }

    const newTodo = {
        id: Date.now(),
        text: text,
        completed: false,
        createdAt: new Date().toISOString()
    };

    todos.push(newTodo);
    saveTodos();
    renderTodos();
    input.value = &#39;&#39;;
}

// &#272;&#225;nh d&#7845;u ho&#224;n th&#224;nh
function toggleTodo(id) {
    todos = todos.map(todo =&gt;
        todo.id === id ? { ...todo, completed: !todo.completed } : todo
    );
    saveTodos();
    renderTodos();
}

// X&#243;a todo
function deleteTodo(id) {
    todos = todos.filter(todo =&gt; todo.id !== id);
    saveTodos();
    renderTodos();
}

// Render danh s&#225;ch
function renderTodos() {
    const list = document.getElementById(&#39;todoList&#39;);
    if (todos.length === 0) {
        list.innerHTML = &#39;&lt;p style=&quot;text-align: center; color: #6b7280;&quot;&gt;Ch&#432;a c&#243; c&#244;ng vi&#7879;c n&#224;o&lt;/p&gt;&#39;;
        return;
    }

    list.innerHTML = todos.map(todo =&gt; `
        &lt;li class=&quot;todo-item ${todo.completed ? &#39;completed&#39; : &#39;&#39;} fade-in&quot;&gt;
            &lt;span&gt;${todo.text}&lt;/span&gt;
            &lt;div class=&quot;todo-actions&quot;&gt;
                &lt;button class=&quot;btn-complete&quot; onclick=&quot;toggleTodo(${todo.id})&quot;&gt;
                    ${todo.completed ? &#39;‚Ü©Ô∏è&#39; : &#39;‚úÖ&#39;}
                &lt;/button&gt;
                &lt;button class=&quot;btn-delete&quot; onclick=&quot;deleteTodo(${todo.id})&quot;&gt;
                    üóëÔ∏è
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/li&gt;
    `).join(&#39;&#39;);
}

// X&#243;a t&#7845;t c&#7843;
function clearAllTodos() {
    if (confirm(&#39;X&#243;a t&#7845;t c&#7843; c&#244;ng vi&#7879;c?&#39;)) {
        todos = [];
        saveTodos();
        renderTodos();
    }
}

// Kh&#7907;i t&#7841;o
loadTodos();
</div>

                </details>
            </div>

            <!-- Section 5: SessionStorage -->
            <div class="section">
                <div class="section-title">5. SessionStorage - L∆∞u tr·ªØ t·∫°m th·ªùi</div>
                
                <p>SessionStorage ho·∫°t ƒë·ªông gi·ªëng LocalStorage nh∆∞ng ch·ªâ t·ªìn t·∫°i trong phi√™n l√†m vi·ªác hi·ªán t·∫°i (ƒë√≥ng tab = m·∫•t d·ªØ li·ªáu).</p>

                <div class="code-block">
// C√∫ ph√°p gi·ªëng h·ªát localStorage
sessionStorage.setItem('tempData', 'value');
const data = sessionStorage.getItem('tempData');
sessionStorage.removeItem('tempData');
sessionStorage.clear();

// Use case: Form wizard (multi-step form)
// L∆∞u t·∫°m d·ªØ li·ªáu gi·ªØa c√°c b∆∞·ªõc
sessionStorage.setItem('step1', JSON.stringify({ 
    name: 'John', 
    email: 'john@example.com' 
}));

// ·ªû b∆∞·ªõc ti·∫øp theo, l·∫•y l·∫°i
const step1Data = JSON.parse(sessionStorage.getItem('step1'));
                </div>

                <div class="highlight-box">
                    <strong>üí° Khi n√†o d√πng SessionStorage?</strong><br>
                    ‚Ä¢ Form ƒëa b∆∞·ªõc (multi-step form)<br>
                    ‚Ä¢ D·ªØ li·ªáu nh·∫°y c·∫£m (x√≥a khi ƒë√≥ng tab)<br>
                    ‚Ä¢ Shopping cart t·∫°m th·ªùi<br>
                    ‚Ä¢ L·ªçc/s·∫Øp x·∫øp trong phi√™n l√†m vi·ªác
                </div>
            </div>

            <!-- Section 6: Best Practices -->
            <div class="section">
                <div class="section-title">6. Best Practices & Common Pitfalls</div>
                
                <div class="storage-comparison">
                    <div class="storage-card">
                        <h4>‚úÖ N√™n l√†m</h4>
                        <ul>
                            <li>‚úÖ Lu√¥n d√πng try/catch khi parse JSON</li>
                            <li>‚úÖ Ki·ªÉm tra null tr∆∞·ªõc khi d√πng</li>
                            <li>‚úÖ ƒê·∫∑t default value</li>
                            <li>‚úÖ D√πng constants cho keys</li>
                            <li>‚úÖ M√£ h√≥a d·ªØ li·ªáu nh·∫°y c·∫£m</li>
                        </ul>
                    </div>
                    <div class="storage-card" style="border-left-color: #ef4444;">
                        <h4 style="color: #ef4444;">‚ùå Kh√¥ng n√™n</h4>
                        <ul>
                            <li>‚ùå L∆∞u m·∫≠t kh·∫©u, th·∫ª t√≠n d·ª•ng</li>
                            <li>‚ùå L∆∞u qu√° nhi·ªÅu d·ªØ li·ªáu l·ªõn</li>
                            <li>‚ùå Qu√™n stringify object</li>
                            <li>‚ùå Kh√¥ng handle l·ªói khi storage ƒë·∫ßy</li>
                            <li>‚ùå L∆∞u d·ªØ li·ªáu PII kh√¥ng m√£ h√≥a</li>
                        </ul>
                    </div>
                </div>

                <h3 style="margin-top: 30px;">üõ°Ô∏è Code an to√†n h∆°n</h3>
                <div class="code-block">
// Helper function an to√†n
const storage = {
    set(key, value) {
        try {
            localStorage.setItem(key, JSON.stringify(value));
            return true;
        } catch (e) {
            console.error('Storage error:', e);
            return false;
        }
    },
    
    get(key, defaultValue = null) {
        try {
            const item = localStorage.getItem(key);
            return item ? JSON.parse(item) : defaultValue;
        } catch (e) {
            console.error('Parse error:', e);
            return defaultValue;
        }
    },
    
    remove(key) {
        localStorage.removeItem(key);
    },
    
    clear() {
        localStorage.clear();
    }
};

// S·ª≠ d·ª•ng
storage.set('user', { name: 'John', age: 25 });
const user = storage.get('user', { name: 'Guest' });
                </div>
            </div>

            <!-- Section 7: Advanced Demo -->
            <div class="section">
                <div class="section-title">7. üíª Demo: Theme Switcher v·ªõi LocalStorage</div>
                
                <div class="demo-storage">
                    <h3>üé® Chuy·ªÉn ƒë·ªïi giao di·ªán (T·ª± ƒë·ªông l∆∞u)</h3>
                    <div class="storage-controls">
                        <button onclick="setTheme('light')" class="storage-button">‚òÄÔ∏è Light</button>
                        <button onclick="setTheme('dark')" class="storage-button">üåô Dark</button>
                        <button onclick="setTheme('blue')" class="storage-button">üîµ Blue</button>
                    </div>
                    <div id="themePreview" class="storage-output" style="padding: 40px; text-align: center; font-size: 1.2em; transition: all 0.3s;">
                        <strong>Current Theme: <span id="currentTheme">Light</span></strong>
                    </div>
                </div>

                <div class="code-block">
// Load theme khi trang load
function loadTheme() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    applyTheme(savedTheme);
}

function setTheme(theme) {
    localStorage.setItem('theme', theme);
    applyTheme(theme);
}

function applyTheme(theme) {
    const preview = document.getElementById('themePreview');
    const themeText = document.getElementById('currentTheme');
    
    // Reset
    preview.style.background = '';
    preview.style.color = '';
    
    switch(theme) {
        case 'dark':
            preview.style.background = '#1f2937';
            preview.style.color = 'white';
            break;
        case 'blue':
            preview.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            preview.style.color = 'white';
            break;
        default:
            preview.style.background = 'white';
            preview.style.color = '#1f2937';
    }
    
    themeText.textContent = theme.charAt(0).toUpperCase() + theme.slice(1);
}

// Kh·ªüi t·∫°o
loadTheme();
                </div>
            </div>

            <!-- Homework -->
            <div class="section">
                <div class="section-title">üéØ B√†i t·∫≠p v·ªÅ nh√†</div>
                
                <div class="project-card">
                    <div class="project-header">
                        <div class="project-title">T·∫°o "Notes App" v·ªõi LocalStorage</div>
                    </div>
                    <p style="margin-top: 10px; line-height: 1.6;">
                        X√¢y d·ª±ng ·ª©ng d·ª•ng ghi ch√∫ ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng:
                    </p>
                    <ul style="margin: 10px 0 10px 20px; color: #4b5563;">
                        <li>Th√™m/s·ª≠a/x√≥a ghi ch√∫</li>
                        <li>M·ªói note c√≥: title, content, createdAt, updatedAt</li>
                        <li>T√¨m ki·∫øm ghi ch√∫ theo t·ª´ kh√≥a</li>
                        <li>L·ªçc theo ng√†y t·∫°o</li>
                        <li>ƒê√°nh d·∫•u ghi ch√∫ quan tr·ªçng (starred)</li>
                        <li>ƒê·∫øm s·ªë k√Ω t·ª± trong m·ªói note</li>
                        <li><strong>Bonus:</strong> Export/Import notes d∆∞·ªõi d·∫°ng JSON</li>
                        <li><strong>Super Bonus:</strong> Rich text editor (bold, italic...)</li>
                    </ul>
                </div>
            </div>

            <!-- Quiz -->
            <div class="section">
    <div class="section-title">üß† Ki·ªÉm tra ki·∫øn th·ª©c</div>
    
    <div class="quiz-container">
        <form id="quizForm">
            <div class="question-item">
                <div class="question-text">C√¢u 1: LocalStorage v√† SessionStorage kh√°c nhau ·ªü ƒëi·ªÉm n√†o?</div>
                <div class="options-list">
                    <label class="option-label">
                        <input type="radio" name="q1" value="wrong">
                        LocalStorage nhanh h∆°n SessionStorage
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q1" value="correct">
                        LocalStorage l∆∞u vƒ©nh vi·ªÖn, SessionStorage m·∫•t khi ƒë√≥ng tab
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q1" value="wrong">
                        LocalStorage ch·ªâ l∆∞u string, SessionStorage l∆∞u ƒë∆∞·ª£c object
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q1" value="wrong">
                        Kh√¥ng c√≥ s·ª± kh√°c bi·ªát
                    </label>
                </div>
            </div>

            <div class="question-item">
                <div class="question-text">C√¢u 2: L√†m sao ƒë·ªÉ l∆∞u m·ªôt object v√†o localStorage?</div>
                <div class="options-list">
                    <label class="option-label">
                        <input type="radio" name="q2" value="wrong">
                        localStorage.setItem('user', user)
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q2" value="correct">
                        localStorage.setItem('user', JSON.stringify(user))
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q2" value="wrong">
                        localStorage.setItem('user', user.toString())
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q2" value="wrong">
                        localStorage.save('user', user)
                    </label>
                </div>
            </div>

            <div class="question-item">
                <div class="question-text">C√¢u 3: Ph∆∞∆°ng th·ª©c n√†o d√πng ƒë·ªÉ x√≥a T·∫§T C·∫¢ d·ªØ li·ªáu trong localStorage?</div>
                <div class="options-list">
                    <label class="option-label">
                        <input type="radio" name="q3" value="wrong">
                        localStorage.removeAll()
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q3" value="wrong">
                        localStorage.deleteAll()
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q3" value="correct">
                        localStorage.clear()
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q3" value="wrong">
                        localStorage.reset()
                    </label>
                </div>
            </div>

            <div class="question-item">
                <div class="question-text">C√¢u 4: Dung l∆∞·ª£ng t·ªëi ƒëa c·ªßa localStorage l√† bao nhi√™u?</div>
                <div class="options-list">
                    <label class="option-label">
                        <input type="radio" name="q4" value="wrong">
                        ~4KB (gi·ªëng cookies)
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q4" value="correct">
                        ~5-10MB
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q4" value="wrong">
                        ~100MB
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q4" value="wrong">
                        Kh√¥ng gi·ªõi h·∫°n
                    </label>
                </div>
            </div>

            <div class="question-item">
                <div class="question-text">C√¢u 5: Khi n√†o n√™n d√πng SessionStorage thay v√¨ LocalStorage?</div>
                <div class="options-list">
                    <label class="option-label">
                        <input type="radio" name="q5" value="wrong">
                        Khi mu·ªën l∆∞u l√¢u d√†i
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q5" value="correct">
                        Khi mu·ªën d·ªØ li·ªáu t·ª± ƒë·ªông x√≥a khi ƒë√≥ng tab
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q5" value="wrong">
                        Khi c·∫ßn l∆∞u d·ªØ li·ªáu l·ªõn h∆°n 10MB
                    </label>
                    <label class="option-label">
                        <input type="radio" name="q5" value="wrong">
                        SessionStorage lu√¥n t·ªët h∆°n LocalStorage
                    </label>
                </div>
            </div>

            <button type="button" class="btn" onclick="checkQuiz()">Ki·ªÉm tra ƒë√°p √°n</button>
        </form>
        <div id="quiz-feedback"></div>
    </div>
</div>

<!-- Footer Actions -->
<div class="actions">
    <button class="btn" onclick="window.location.href='day13.html'">‚¨ÖÔ∏è Quay l·∫°i ng√†y 13</button>
    <button id="completeBtn" class="btn" style="opacity: 0.5; pointer-events: none;" onclick="completeLesson()">‚úÖ Ho√†n th√†nh b√†i h·ªçc</button>
    <p style="font-size: 0.9em; color: #666; margin-top: 5px;">(H√£y l√†m ƒë√∫ng Quiz ƒë·ªÉ m·ªü kh√≥a n√∫t ho√†n th√†nh)</p>
</div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/config.js"></script>
    <script src="../js/storage.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/quiz-handler.js"></script>
    
    <script>
        // Initialize quiz
        initQuiz('day14');

        // ========== TODO APP LOGIC ==========
        let todos = [];

        function loadTodos() {
            const saved = localStorage.getItem('day14_todos');
            todos = saved ? JSON.parse(saved) : [];
            renderTodos();
        }

        function saveTodos() {
            localStorage.setItem('day14_todos', JSON.stringify(todos));
        }

        function addTodo() {
            const input = document.getElementById('todoInput');
            const text = input.value.trim();
            
            if (!text) {
                alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p n·ªôi dung!');
                return;
            }
            
            const newTodo = {
                id: Date.now(),
                text: text,
                completed: false,
                createdAt: new Date().toISOString()
            };
            
            todos.push(newTodo);
            saveTodos();
            renderTodos();
            input.value = '';
        }

        function toggleTodo(id) {
            todos = todos.map(todo => 
                todo.id === id ? { ...todo, completed: !todo.completed } : todo
            );
            saveTodos();
            renderTodos();
        }

        function deleteTodo(id) {
            if (confirm('X√≥a c√¥ng vi·ªác n√†y?')) {
                todos = todos.filter(todo => todo.id !== id);
                saveTodos();
                renderTodos();
            }
        }

        function renderTodos() {
            const list = document.getElementById('todoList');
            if (todos.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 20px;">Ch∆∞a c√≥ c√¥ng vi·ªác n√†o. H√£y th√™m c√¥ng vi·ªác ƒë·∫ßu ti√™n!</p>';
                return;
            }
            
            list.innerHTML = todos.map(todo => `
                <li class="todo-item ${todo.completed ? 'completed' : ''} fade-in">
                    <span>${todo.text}</span>
                    <div class="todo-actions">
                        <button class="btn-complete" onclick="toggleTodo(${todo.id})" title="${todo.completed ? 'ƒê√°nh d·∫•u ch∆∞a xong' : 'ƒê√°nh d·∫•u ho√†n th√†nh'}">
                            ${todo.completed ? '‚Ü©Ô∏è' : '‚úÖ'}
                        </button>
                        <button class="btn-delete" onclick="deleteTodo(${todo.id})" title="X√≥a">
                            üóëÔ∏è
                        </button>
                    </div>
                </li>
            `).join('');
        }

        function clearAllTodos() {
            if (todos.length === 0) {
                alert('‚ö†Ô∏è Danh s√°ch ƒë√£ tr·ªëng!');
                return;
            }
            
            if (confirm('X√≥a t·∫•t c·∫£ c√¥ng vi·ªác? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c!')) {
                todos = [];
                saveTodos();
                renderTodos();
            }
        }

        // ========== THEME SWITCHER LOGIC ==========
        function loadTheme() {
            const savedTheme = localStorage.getItem('day14_theme') || 'light';
            applyTheme(savedTheme);
        }

        function setTheme(theme) {
            localStorage.setItem('day14_theme', theme);
            applyTheme(theme);
        }

        function applyTheme(theme) {
            const preview = document.getElementById('themePreview');
            const themeText = document.getElementById('currentTheme');
            
            preview.style.background = '';
            preview.style.color = '';
            
            switch(theme) {
                case 'dark':
                    preview.style.background = '#1f2937';
                    preview.style.color = 'white';
                    break;
                case 'blue':
                    preview.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                    preview.style.color = 'white';
                    break;
                default:
                    preview.style.background = 'white';
                    preview.style.color = '#1f2937';
            }
            
            themeText.textContent = theme.charAt(0).toUpperCase() + theme.slice(1);
        }

        // ========== KEYBOARD SHORTCUTS ==========
        document.getElementById('todoInput')?.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                addTodo();
            }
        });

        // ========== INITIALIZE ==========
        loadTodos();
        loadTheme();
    </script>
</body>
</html>